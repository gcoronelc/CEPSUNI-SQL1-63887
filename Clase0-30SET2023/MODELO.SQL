
CREATE TABLE PACIENTE
( 
	IDPACIENTE           integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	DNI                  varchar(8)  NOT NULL ,
	DIRECCION            varchar(150)  NOT NULL ,
	CELULAR              varchar(20)  NOT NULL 
)
go



ALTER TABLE PACIENTE
	ADD CONSTRAINT XPKPACIENTE PRIMARY KEY (IDPACIENTE ASC)
go



CREATE TABLE MEDICO
( 
	IDMEDICO             integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	DNI                  varchar(8)  NOT NULL ,
	DIRECCION            varchar(150)  NOT NULL ,
	CELULAR              varchar(20)  NOT NULL 
)
go



ALTER TABLE MEDICO
	ADD CONSTRAINT XPKMEDICO PRIMARY KEY (IDMEDICO ASC)
go



CREATE TABLE HABITACION
( 
	IDHABITACION         integer IDENTITY ( 1,1 ) ,
	ETIQUETA             varchar(20)  NOT NULL ,
	PABELLON             varchar(20)  NOT NULL ,
	PISO                 integer  NOT NULL ,
	NUMERO               integer  NOT NULL ,
	DISPONIBLE           integer  NOT NULL 
)
go



ALTER TABLE HABITACION
	ADD CONSTRAINT XPKHABITACION PRIMARY KEY (IDHABITACION ASC)
go



CREATE TABLE CAMA
( 
	IDCAMA               integer IDENTITY ( 1,1 ) ,
	IDHABITACION         integer  NOT NULL ,
	ETIQUETA             varchar(20)  NULL ,
	DISPONIBLE           integer  NOT NULL ,
	CONSTRAINT FK_CAMA_HABITACION FOREIGN KEY (IDHABITACION) REFERENCES HABITACION(IDHABITACION)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



ALTER TABLE CAMA
	ADD CONSTRAINT XPKCAMA PRIMARY KEY (IDCAMA ASC)
go



CREATE TABLE INGRESO
( 
	IDINGRESO            integer IDENTITY ( 1,1 ) ,
	IDPACIENTE           integer  NOT NULL ,
	IDMEDICO             integer  NOT NULL ,
	IDCAMA               integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	CONSTRAINT FK_INGRESO_PACIENTE FOREIGN KEY (IDPACIENTE) REFERENCES PACIENTE(IDPACIENTE)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_INGRESO_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_INGRESO_CAMA FOREIGN KEY (IDCAMA) REFERENCES CAMA(IDCAMA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



ALTER TABLE INGRESO
	ADD CONSTRAINT XPKINGRESO PRIMARY KEY (IDINGRESO ASC)
go



CREATE TABLE ALTA
( 
	IDINGRESO            integer  NOT NULL ,
	IDMEDICO             integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	COMENTARIO           varchar(2000)  NOT NULL ,
	CONSTRAINT FK_ALTA_INGRESO FOREIGN KEY (IDINGRESO) REFERENCES INGRESO(IDINGRESO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_ALTA_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



ALTER TABLE ALTA
	ADD CONSTRAINT XPKALTA PRIMARY KEY (IDINGRESO ASC)
go



CREATE TABLE VISITA
( 
	IDVISITA             integer IDENTITY ( 1,1 ) ,
	IDINGRESO            integer  NOT NULL ,
	IDMEDICO             integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	COMENTARIO           varchar(2000)  NOT NULL ,
	CONSTRAINT FK_VISITA_INGRESO FOREIGN KEY (IDINGRESO) REFERENCES INGRESO(IDINGRESO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_VISITA_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



ALTER TABLE VISITA
	ADD CONSTRAINT XPKVISITA PRIMARY KEY (IDVISITA ASC)
go


